<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>サイコロゲーム</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    margin-top: 50px;
  }
  #message {
    font-size: 2em;
    margin-bottom: 20px;
  }
</style>
</head>
<body>
<h1>サイコロゲーム</h1>
<div id="message">Enterキーでダイスを振ってください</div>
<div id="log"></div>
<script>
let gameOver = false;
const message = document.getElementById('message');
const log = document.getElementById('log');

function roll() {
  return Math.floor(Math.random() * 6) + 1;
}

function cpuTurn() {
  if (gameOver) return;
  const cpuRoll = roll();
  const div = document.createElement('div');
  div.textContent = `CPU: ${cpuRoll}`;
  log.appendChild(div);
  if (cpuRoll === 6) {
    message.textContent = 'CPUの勝ち！';
    gameOver = true;
  } else {
    message.textContent = 'Enterキーでダイスを振ってください';
  }
}

document.addEventListener('keydown', e => {
  if (e.key === 'Enter' && !gameOver) {
    const playerRoll = roll();
    const div = document.createElement('div');
    div.textContent = `あなた: ${playerRoll}`;
    log.appendChild(div);
    if (playerRoll === 6) {
      message.textContent = 'あなたの勝ち！';
      gameOver = true;
    } else {
      message.textContent = 'CPUの番...';
      setTimeout(cpuTurn, 500);
    }
  }
});
</script>
</body>
</html>
